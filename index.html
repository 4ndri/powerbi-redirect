<!DOCTYPE html>
<html style="height:100%;">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Redirecting custom protocol</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body onclick="redirect()" style="height:100%;">
    <script type="text/javascript">
      function redirect(){
        try{
          var url = window.location.search;
          if(url){
            url = url.replace(/^\?/,'');
            if(url){
              window.open(url,'_self');
            }
          }
          var btn = document.createElement("BUTTON");
          btn.innerHTML = "Open";
          btn.onClick = redirect;
          document.body.appendChild(btn);
          
          var iframe = document.createElement("iframe");
          iframe.href = url;
          document.body.appendChild(iframe);
        }catch(ex){
          console.error(ex);
          var btn = document.createElement("BUTTON");
          btn.innerHTML = "Open";
          btn.onClick = redirect;
          document.body.appendChild(btn);
        }
      }
      setTimeout(redirect,1000);
    </script>
  </body>
</html>
